<window xmlns="http://schemas.haulmont.com/cuba/4.1/window.xsd">

    <assign name="width" value="200"/>

    <layout expand="bands">
        <vbox margin="true">
            <fieldGroup id="propertiesFieldGroup" border="hidden" margin="true" datasource="reportDs" width="50%">
                <column>
                    <field id="name" required="true" requiredMessage="msg://report.nameMsg" width="${width}"/>
                    <field id="code" width="${width}"/>
                    <field id="defaultTemplate" custom="true" required="true" requiredMessage="msg://report.templateMsg"/>
                </column>
                <column>
                    <field id="reportType" required="true" requiredMessage="msg://report.reportTypeMsg"
                           width="${width}"/>
                    <field id="group" required="true" optionsDatasource="groupsDs"
                           requiredMessage="msg://report.reportTypeMsg" width="${width}"/>
                </column>
            </fieldGroup>
        </vbox>
        <vbox id="bands" width="100%" height="100%" expand="treeBox" margin="false;false;false;true">
            <split orientation="horizontal" id="hSplit" pos="60" width="100%" height="100%">
                <groupBox id="treeBox" expand="serviceTree" height="100%" width="100%" spacing="true" caption="msg://report.bands">
                    <buttonsPanel>
                        <button id="createBandDefinition" icon="icons/plus-btn.png"/>
                        <button id="removeBandDefinition" icon="icons/remove.png"/>
                        <button id="up" icon="icons/up.png"/>
                        <button id="down" icon="icons/down.png"/>
                    </buttonsPanel>

                    <tree id="serviceTree" margin="true" width="100%" height="100%">
                        <treechildren datasource="treeDs" captionProperty="name"/>
                    </tree>
                </groupBox>
                <groupBox id="treeBox" expand="serviceTree" height="100%" width="100%" caption="msg://report.bandDetails">
                    <iframe src="/com/haulmont/reports/gui/definition/edit/definition-edit.xml" id="bandEditor"
                            width="100%"
                            height="100%"/>
                </groupBox>
            </split>
        </vbox>

    </layout>
</window>
