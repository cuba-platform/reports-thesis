<!--
  ~ Copyright (c) 2008-2014 Haulmont. All rights reserved.
  ~ Use is subject to license terms, see http://www.cuba-platform.com/license for details.
  -->

<window xmlns="http://schemas.haulmont.com/cuba/5.2/window.xsd"
        class="com.haulmont.reports.gui.report.wizard.ReportWizardCreator"
        messagesPack="com.haulmont.reports.gui.report.wizard"
        datasource="reportDataDs">

    <dsContext>
        <datasource
                id="reportDataDs"
                class="com.haulmont.reports.entity.wizard.ReportData"
                datasourceClass="com.haulmont.reports.gui.datasource.NotPersistenceDatasource">
            <collectionDatasource id="reportRegionsDs"
                                  property="reportRegions">
                <collectionDatasource id="regionPropertiesDs"
                                      property="regionProperties"/>
            </collectionDatasource>

        </datasource>
        <collectionDatasource id="groupsDs" class="com.haulmont.reports.entity.ReportGroup" view="_local">
            <query>
                <![CDATA[ select rg from report$ReportGroup rg order by rg.createTs asc ]]>
            </query>
        </collectionDatasource>
    </dsContext>

    <layout height="405px" expand="mainVbox">
        <vbox id="mainVbox" expand="editAreaVbox" spacing="true">
            <vbox stylename="wizard-top-separator"/>
            <vbox spacing="true">
                <label id="tipLabel"/>
            </vbox>
            <vbox stylename="wizard-top-separator"/>
            <vbox id="editAreaVbox" expand="editAreaGroupBox">
                <groupBox id="editAreaGroupBox">
                    <iframe src="/com/haulmont/reports/gui/report/wizard/step/first-details-frame.xml" id="detailsStep"
                            width="100%"
                            visible="false"/>
                    <iframe src="/com/haulmont/reports/gui/report/wizard/step/last-save-frame.xml" id="saveStep"
                            width="100%"
                            visible="false"/>
                </groupBox>
                <iframe src="/com/haulmont/reports/gui/report/wizard/step/intermediate-regions-frame.xml"
                        id="regionsStep"
                        width="100%"
                        visible="false"/>

            </vbox>
            <hbox id="navBtns" align="BOTTOM_LEFT">
                <buttonsPanel id="navBtnsPanel" align="BOTTOM_LEFT">
                    <button id="bwd" caption="msg://backward" icon="icons/report-wizard-previous.png"/>
                    <button id="fwd" caption="msg://forward" icon="icons/report-wizard-next.png"/>
                    <button id="save" caption="msg://save" visible="false" icon="icons/ok.png"/>
                </buttonsPanel>
            </hbox>
        </vbox>
    </layout>
</window>